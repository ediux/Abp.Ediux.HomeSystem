@page "/Files"
@using Ediux.HomeSystem.AdditionalSystemFunctions4Users
@using Ediux.HomeSystem.Localization
@using Microsoft.Extensions.Localization
@using Volo.Abp.AspNetCore.Components.Web
@using Blazorise.TreeView
@inject AbpBlazorMessageLocalizerHelper<HomeSystemResource> LH
@inherits HomeSystemComponentBase

<Row class="g-0" style="margin-top:-24px; position:relative;" Flex="Flex.AlignItems.Stretch" Margin="Margin.Is3.FromBottom">
    <Column ColumnSize="ColumnSize.Is2" Style="height:100vh;" Background="Background.Dark" Float="Float.Left">
        <TreeView Nodes="Items" 
                  GetChildNodes="@(item => item.Children)"
                  HasChildNodes="@(item => item.Children?.Any() == true)"
                  @bind-SelectedNode="selectedNode"
                  @bind-ExpandedNodes="ExpandedNodes">
            <NodeContent style="color:white">@context.Text</NodeContent>
        </TreeView>
    </Column>
    <Column ColumnSize="ColumnSize.Is10" Style="height:48px;" Background="Background.Info" Float="Float.Right">

    </Column>
    <Column ColumnSize="ColumnSize.Is10" class="offset-2" Style="height:100vh; top:-96.25vh" Background="Background.Danger" Float="Float.Right">

    </Column>
</Row>
@code {
    public class Item
    {
        public string Text { get; set; }
        public IEnumerable<Item> Children { get; set; }
    }

    IEnumerable<Item> Items = new[] {
        new Item { Text = "Item 1" },
        new Item {
            Text = "Item 2",
            Children = new []{
                new Item { Text = "Item 2.1" },
                new Item { Text = "Item 2.2", Children = new []
                {
                    new Item { Text = "Item 2.2.1" },
                    new Item { Text = "Item 2.2.2" },
                    new Item { Text = "Item 2.2.3" },
                    new Item { Text = "Item 2.2.4" }
                }
            },
            new Item { Text = "Item 2.3" },
            new Item { Text = "Item 2.4" }
            }
        },
        new Item { Text = "Item 3" },
    };

    IList<Item> ExpandedNodes = new List<Item>();
    Item selectedNode;
}
